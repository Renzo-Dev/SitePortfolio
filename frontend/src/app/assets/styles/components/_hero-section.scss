@use '../variables' as *;

// ============================================
// Keyframes для анимаций
// ============================================

// Анимация слов заголовка
@keyframes wordReveal {
	0% {
		opacity: 0;
		transform: translateY(40px) rotateX(-90deg);
		filter: blur(8px);
	}
	100% {
		opacity: 1;
		transform: translateY(0) rotateX(0);
		filter: blur(0);
	}
}

// Fade-in с blur для подзаголовка
@keyframes fadeInBlur {
	from {
		opacity: 0;
		transform: translateY(20px);
		filter: blur(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
		filter: blur(0);
	}
}

// Bounce эффект для кнопок
@keyframes fadeInBounce {
	0% {
		opacity: 0;
		transform: translateY(30px) scale(0.9);
	}
	50% {
		transform: translateY(-5px) scale(1.02);
	}
	70% {
		transform: translateY(2px) scale(0.98);
	}
	100% {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
}

// Вращение градиента
@keyframes gradientRotate {
	0% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 50%;
	}
}

// Диагональное движение градиента
@keyframes gradientSlide {
	0% {
		background-position: 0% 0%;
	}
	50% {
		background-position: 100% 100%;
	}
	100% {
		background-position: 0% 0%;
	}
}

// Рандомное движение для фигур
@keyframes floatRandom1 {
	0% {
		transform: translate(0, 0) rotate(0deg);
	}
	25% {
		transform: translate(30px, -40px) rotate(5deg);
	}
	50% {
		transform: translate(-20px, 20px) rotate(-3deg);
	}
	75% {
		transform: translate(15px, -10px) rotate(7deg);
	}
	100% {
		transform: translate(0, 0) rotate(0deg);
	}
}

@keyframes floatRandom2 {
	0% {
		transform: translate(0, 0) rotate(0deg);
	}
	20% {
		transform: translate(-25px, 35px) rotate(-8deg);
	}
	45% {
		transform: translate(40px, -15px) rotate(4deg);
	}
	70% {
		transform: translate(-10px, -30px) rotate(-6deg);
	}
	100% {
		transform: translate(0, 0) rotate(0deg);
	}
}

@keyframes floatRandom3 {
	0% {
		transform: translate(0, 0) rotate(0deg);
	}
	30% {
		transform: translate(20px, 25px) rotate(6deg);
	}
	60% {
		transform: translate(-35px, -20px) rotate(-4deg);
	}
	85% {
		transform: translate(10px, 15px) rotate(3deg);
	}
	100% {
		transform: translate(0, 0) rotate(0deg);
	}
}

// Scroll indicator
@keyframes scrollBounce {
	0%,
	100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(8px);
	}
}

@keyframes lineGrow {
	0% {
		transform: scaleY(0);
	}
	100% {
		transform: scaleY(1);
	}
}

// ============================================
// Hero Section Styles
// ============================================

.hero {
	position: relative;
	min-height: 100vh;
	display: flex;
	align-items: center;
	justify-content: center;
	padding-top: 80px;
	overflow: hidden;
	background: $bg-primary;

	// Animated gradient background
	&__gradient {
		position: absolute;
		top: -50%;
		left: -50%;
		width: 200%;
		height: 200%;
		background: radial-gradient(
			circle at center,
			rgba(255, 255, 255, 0.03) 0%,
			rgba(255, 255, 255, 0.01) 25%,
			transparent 50%
		);
		animation: gradientRotate 20s ease infinite;
		z-index: 0;
	}

	// Particles canvas
	&__particles {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 1;
		opacity: 0.7;
	}

	// Floating shapes с рандомным движением
	&__shapes {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 1;
		pointer-events: none;

		.shape {
			position: absolute;
			border-radius: 50%;
			filter: blur(60px);
			opacity: 0.15;

			&--1 {
				width: 300px;
				height: 300px;
				background: linear-gradient(135deg, #ffffff 0%, transparent 100%);
				top: 10%;
				left: 10%;
				animation: floatRandom1 18s ease-in-out infinite;
			}

			&--2 {
				width: 200px;
				height: 200px;
				background: linear-gradient(225deg, #ffffff 0%, transparent 100%);
				bottom: 20%;
				right: 15%;
				animation: floatRandom2 22s ease-in-out infinite;
			}

			&--3 {
				width: 250px;
				height: 250px;
				background: radial-gradient(circle, #ffffff 0%, transparent 70%);
				top: 50%;
				right: 10%;
				animation: floatRandom3 25s ease-in-out infinite;
			}
		}
	}

	// Content container
	&__content {
		position: relative;
		z-index: 2;
		text-align: center;
		max-width: 900px;
		margin: 0 auto;
		will-change: transform, opacity;
	}

	// Title with word-by-word animation
	&__title {
		font-size: $text-h1;
		line-height: $line-h1;
		margin-bottom: $spacing-lg;
		perspective: 1000px;

		.word {
			display: inline-block;
			opacity: 0;
			animation: wordReveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
			transform-origin: center bottom;
		}
	}

	// Subtitle
	&__subtitle {
		font-size: $text-body-lg;
		color: $text-secondary;
		margin-bottom: $spacing-2xl;
		max-width: 600px;
		margin-left: auto;
		margin-right: auto;
		animation: fadeInBlur 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.8s both;
	}

	// CTA buttons - Premium Modern Design
	&__cta {
		display: flex;
		gap: $spacing-lg;
		justify-content: center;
		flex-wrap: wrap;
		margin-bottom: $spacing-3xl;

		:deep(button) {
			opacity: 0;
			position: relative;
			padding: 18px 48px;
			font-size: 16px;
			font-weight: 600;
			border-radius: 16px;
			overflow: hidden;
			isolation: isolate;
			transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
			letter-spacing: 0.3px;
			text-transform: none;
			cursor: pointer;

			// Начальная анимация появления
			&:nth-child(1) {
				animation: fadeInBounce 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 1.2s
					forwards;
			}

			&:nth-child(2) {
				animation: fadeInBounce 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 1.4s
					forwards;
			}

			// ============================================
			// PRIMARY BUTTON - "Посмотреть работы"
			// Премиум белая кнопка с Spotlight + Glow
			// ============================================
			&.btn--primary {
				background: linear-gradient(
					135deg,
					#ffffff 0%,
					#fafafa 50%,
					#ffffff 100%
				);
				color: #000000;
				border: none;
				box-shadow: 0 1px 1px rgba(255, 255, 255, 0.9) inset,
					0 -1px 1px rgba(0, 0, 0, 0.04) inset, 0 8px 24px rgba(0, 0, 0, 0.12),
					0 16px 48px rgba(0, 0, 0, 0.08);
				transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);

				// Пульсирующий glow за кнопкой
				&::before {
					content: '';
					position: absolute;
					inset: -6px;
					background: linear-gradient(
						135deg,
						rgba(255, 255, 255, 0.7),
						rgba(255, 255, 255, 0.3),
						rgba(255, 255, 255, 0.5)
					);
					border-radius: 22px;
					opacity: 0;
					z-index: -1;
					filter: blur(24px);
					transition: opacity 0.4s ease;
					animation: pulseGlow 3.5s ease-in-out infinite;
				}

				// SPOTLIGHT EFFECT - следует за курсором (темный для контраста на белом)
				&::after {
					content: '';
					position: absolute;
					inset: 0;
					background: radial-gradient(
						circle 130px at var(--ripple-x, 50%) var(--ripple-y, 50%),
						rgba(0, 0, 0, 0.18) 0%,
						rgba(0, 0, 0, 0.12) 20%,
						rgba(0, 0, 0, 0.06) 40%,
						rgba(0, 0, 0, 0.02) 55%,
						transparent 70%
					);
					border-radius: 18px;
					opacity: 0;
					transition: opacity 0.25s ease;
					pointer-events: none;
					z-index: 1;
					mix-blend-mode: multiply;
				}

				// Контент кнопки
				> * {
					position: relative;
					z-index: 2;
					text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
					transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
				}

				// Hover состояние
				&:hover {
					transform: translateY(-4px) scale(1.02);
					box-shadow: 0 1px 1px rgba(255, 255, 255, 1) inset,
						0 -1px 1px rgba(0, 0, 0, 0.05) inset,
						0 12px 36px rgba(0, 0, 0, 0.18), 0 24px 64px rgba(0, 0, 0, 0.12),
						0 0 0 1px rgba(255, 255, 255, 0.1);

					&::before {
						opacity: 1;
					}

					&::after {
						opacity: 1;
					}
				}

				// Active состояние
				&:active {
					transform: translateY(-1px) scale(0.98);
					box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8) inset,
						0 -1px 1px rgba(0, 0, 0, 0.06) inset, 0 4px 16px rgba(0, 0, 0, 0.15),
						0 8px 28px rgba(0, 0, 0, 0.1);
					transition: all 0.15s ease;

					&::after {
						opacity: 0.7;
					}
				}
			}

			// ============================================
			// SECONDARY BUTTON - "Заказать разработку"
			// Glassmorphism с Spotlight + Gradient Border
			// ============================================
			&.btn--secondary {
				background: linear-gradient(
					135deg,
					rgba(255, 255, 255, 0.12) 0%,
					rgba(255, 255, 255, 0.06) 100%
				);
				color: #ffffff;
				border: none;
				backdrop-filter: blur(20px) saturate(180%);
				-webkit-backdrop-filter: blur(20px) saturate(180%);
				box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25),
					0 16px 48px rgba(0, 0, 0, 0.15),
					inset 0 1px 1px rgba(255, 255, 255, 0.35),
					inset 0 0 0 1.5px rgba(255, 255, 255, 0.25);
				transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);

				// Вращающаяся gradient граница
				&::before {
					content: '';
					position: absolute;
					inset: -2px;
					background: linear-gradient(
						45deg,
						rgba(255, 255, 255, 0.8),
						rgba(255, 255, 255, 0.3),
						rgba(255, 255, 255, 0.1),
						rgba(255, 255, 255, 0.4),
						rgba(255, 255, 255, 0.8)
					);
					background-size: 300% 300%;
					border-radius: 20px;
					z-index: -1;
					opacity: 0;
					transition: opacity 0.4s ease;
					animation: rotateBorder 4s linear infinite;
				}

				// SPOTLIGHT EFFECT - следует за курсором
				&::after {
					content: '';
					position: absolute;
					inset: 0;
					background: radial-gradient(
						circle 180px at var(--ripple-x, 50%) var(--ripple-y, 50%),
						rgba(255, 255, 255, 0.35) 0%,
						rgba(255, 255, 255, 0.18) 30%,
						rgba(255, 255, 255, 0.08) 50%,
						transparent 70%
					);
					border-radius: 18px;
					opacity: 0;
					transition: opacity 0.3s ease;
					pointer-events: none;
					z-index: 1;
				}

				// Контент кнопки
				> * {
					position: relative;
					z-index: 2;
					text-shadow: 0 2px 12px rgba(0, 0, 0, 0.4);
					transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
				}

				// Hover состояние
				&:hover {
					background: linear-gradient(
						135deg,
						rgba(255, 255, 255, 0.2) 0%,
						rgba(255, 255, 255, 0.1) 100%
					);
					transform: translateY(-4px) scale(1.02);
					box-shadow: 0 12px 36px rgba(0, 0, 0, 0.3),
						0 24px 64px rgba(0, 0, 0, 0.2),
						inset 0 1px 1px rgba(255, 255, 255, 0.45),
						inset 0 0 0 1.5px rgba(255, 255, 255, 0.35);

					&::before {
						opacity: 1;
					}

					&::after {
						opacity: 1;
					}
				}

				// Active состояние
				&:active {
					transform: translateY(-1px) scale(0.98);
					box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25),
						0 8px 28px rgba(0, 0, 0, 0.2),
						inset 0 1px 1px rgba(255, 255, 255, 0.35),
						inset 0 0 0 1.5px rgba(255, 255, 255, 0.25);
					transition: all 0.15s ease;

					&::after {
						opacity: 0.7;
					}
				}
			}

			// ============================================
			// ИКОНКИ - плавная микроанимация
			// ============================================
			:deep(.icon) {
				transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
				position: relative;
				z-index: 2;
				filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.15));
			}

			&:hover :deep(.icon) {
				transform: translateX(6px) rotate(-8deg) scale(1.2);
				filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
			}

			&:active :deep(.icon) {
				transform: translateX(3px) rotate(-4deg) scale(1.1);
			}

			// ============================================
			// ACCESSIBILITY - Focus ring
			// ============================================
			&:focus-visible {
				outline: none;
				box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1),
					0 0 0 6px rgba(255, 255, 255, 0.4);
			}

			// Отключение hover эффектов на touch устройствах
			@media (hover: none) {
				&:hover {
					transform: none;

					&::after {
						opacity: 0;
					}
				}
			}
		}
	}

	// Scroll indicator
	&__scroll {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 8px;
		margin-top: 60px;
		opacity: 0;
		animation: fadeInBlur 0.6s ease 2s forwards;

		.scroll-text {
			font-size: 12px;
			color: $text-secondary;
			text-transform: uppercase;
			letter-spacing: 2px;
			font-weight: 500;
		}

		.scroll-line {
			width: 1px;
			height: 40px;
			background: linear-gradient(to bottom, $text-secondary, transparent);
			transform-origin: top;
			animation: lineGrow 1s ease 2.5s both, scrollBounce 2s ease 3.5s infinite;
		}
	}
}

// ============================================
// Адаптивность
// ============================================

// Tablet (до 1024px)
@media (max-width: 1024px) {
	.hero {
		&__title {
			font-size: clamp(36px, 8vw, 56px);
		}

		&__subtitle {
			font-size: $text-body;
			max-width: 500px;
		}

		&__cta {
			gap: $spacing-md;
		}

		&__shapes .shape {
			&--1 {
				width: 250px;
				height: 250px;
			}

			&--2 {
				width: 180px;
				height: 180px;
			}

			&--3 {
				width: 200px;
				height: 200px;
			}
		}

		&__scroll {
			margin-top: 50px;
		}
	}
}

// Mobile (до 768px)
@media (max-width: 768px) {
	.hero {
		padding-top: 60px;

		&__title {
			font-size: clamp(32px, 10vw, 48px);
			line-height: 1.2;
			margin-bottom: $spacing-md;
		}

		&__subtitle {
			font-size: $text-body;
			margin-bottom: $spacing-xl;
			max-width: 100%;
		}

		&__cta {
			flex-direction: column;
			align-items: stretch;
			gap: $spacing-md;

			:deep(button) {
				padding: 14px 32px;
				font-size: 15px;
			}
		}

		// Отключаем тяжелые эффекты на мобильных
		&__particles {
			display: none;
		}

		&__gradient {
			animation: none;
		}

		&__shapes .shape {
			display: none;
		}

		&__content {
			will-change: auto;
		}

		&__scroll {
			margin-top: 40px;
		}
	}
}

// Small Mobile (до 480px)
@media (max-width: 480px) {
	.hero {
		padding-top: 50px;

		&__title {
			font-size: clamp(28px, 10vw, 40px);
			margin-bottom: $spacing-sm;
		}

		&__subtitle {
			font-size: $text-body-sm;
			margin-bottom: $spacing-lg;
		}

		&__cta {
			gap: $spacing-sm;

			:deep(button) {
				padding: 12px 24px;
				font-size: 14px;
			}
		}

		&__scroll {
			margin-top: 30px;

			.scroll-text {
				font-size: 11px;
			}

			.scroll-line {
				height: 30px;
			}
		}
	}
}

// Large Desktop (от 1440px)
@media (min-width: 1440px) {
	.hero {
		&__content {
			max-width: 1000px;
		}

		&__title {
			font-size: clamp(48px, 8vw, 72px);
		}

		&__subtitle {
			font-size: 20px;
			max-width: 700px;
		}

		&__cta :deep(button) {
			padding: 18px 48px;
			font-size: 17px;
		}
	}
}

// ============================================
// Accessibility
// ============================================

@media (prefers-reduced-motion: reduce) {
	.hero {
		&__gradient,
		&__shapes .shape {
			animation: none !important;
		}

		&__title .word {
			animation: none !important;
			opacity: 1 !important;
			transform: none !important;
		}

		&__subtitle,
		&__cta :deep(button),
		&__scroll,
		&__scroll .scroll-line {
			animation: none !important;
			opacity: 1 !important;
		}

		&__content {
			transition: none !important;
		}
	}
}
