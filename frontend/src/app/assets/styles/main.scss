// Глобальные стили портфолио
@use 'variables' as *;

// Reset и base styles
*,
*::before,
*::after {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

html {
	font-size: 16px;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	overflow-x: hidden;
}

// Плавный нативный скролл
html {
	scroll-behavior: smooth;
}

// Отключаем для пользователей с motion sickness
@media (prefers-reduced-motion: reduce) {
	html {
		scroll-behavior: auto;
	}
}

body {
	font-family: $font-body;
	font-size: $text-body;
	line-height: $line-body;
	color: $text-primary;
	background-color: $bg-primary;
	overflow-x: hidden;
}

// Typography
h1,
h2,
h3,
h4,
h5,
h6 {
	font-family: $font-heading;
	font-weight: 700;
	line-height: $line-h2;
	margin: 0;
}

h1 {
	font-size: $text-h1;
	line-height: $line-h1;
}

h2 {
	font-size: $text-h2;
	line-height: $line-h2;
}

h3 {
	font-size: $text-h3;
	line-height: $line-h3;
}

h4 {
	font-size: $text-h4;
}

p {
	margin: 0;
}

a {
	color: inherit;
	text-decoration: none;
	transition: color $transition-base;

	&:hover {
		color: $text-secondary;
	}
}

button {
	font-family: inherit;
	cursor: pointer;
	border: none;
	background: none;
}

img {
	max-width: 100%;
	height: auto;
	display: block;
}

// Utility classes
.container {
	@include container;
}

.section {
	padding: $spacing-4xl 0;

	@include mobile {
		padding: $spacing-3xl 0;
	}
}

.flex-center {
	@include flex-center;
}

.flex-between {
	@include flex-between;
}

// Grid system
.grid {
	display: grid;
	gap: $spacing-lg;

	&--2 {
		grid-template-columns: repeat(2, 1fr);

		@include mobile {
			grid-template-columns: 1fr;
		}
	}

	&--3 {
		grid-template-columns: repeat(3, 1fr);

		@include tablet {
			grid-template-columns: repeat(2, 1fr);
		}

		@include mobile {
			grid-template-columns: 1fr;
		}
	}

	&--4 {
		grid-template-columns: repeat(4, 1fr);

		@include tablet {
			grid-template-columns: repeat(2, 1fr);
		}

		@include mobile {
			grid-template-columns: 1fr;
		}
	}
}

// Text utilities
.text-gradient {
	background: linear-gradient(180deg, $text-primary 0%, $text-secondary 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

.text-center {
	text-align: center;
}

.text-secondary {
	color: $text-secondary;
}

.text-muted {
	color: $text-muted;
}

// Scrollbar (Firefox)
* {
	scrollbar-width: thin;
	scrollbar-color: $border $bg-primary;
}

// Scrollbar (Webkit)
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: $bg-primary;
}

::-webkit-scrollbar-thumb {
	background: $border;
	border-radius: $radius-full;

	&:hover {
		background: $text-muted;
	}
}

// Selection
::selection {
	background: $accent;
	color: $bg-primary;
}

::-moz-selection {
	background: $accent;
	color: $bg-primary;
}

// Accessibility - reduced motion
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

// Focus visible для accessibility
*:focus {
	outline: none;
}

*:focus-visible {
	outline: 2px solid $accent;
	outline-offset: 4px;
}

// Градиент разделитель секций
// Section padding
.section {
	padding: $spacing-4xl 0;

	@include mobile {
		padding: $spacing-3xl 0;
	}
}

.section-divider {
	height: 1px;
	background: linear-gradient(
		90deg,
		transparent 0%,
		rgba(255, 255, 255, 0.2) 50%,
		transparent 100%
	);
	margin: $spacing-4xl 0;

	@include mobile {
		margin: $spacing-3xl 0;
	}
}

// Noise texture overlay
.noise-overlay {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	opacity: 0.03;
	z-index: $z-base;
	background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' /%3E%3C/svg%3E");
	mix-blend-mode: overlay;
}
